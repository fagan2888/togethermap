<template name="search">

    <h2>Search Places</h2>

    {{#unless zoomIn}}

        <div class="form-group">
            <input type="text"
                   id="srch"
                   name="srch"
                   class="form-control"
                   placeholder="Search terms"/>
        </div>

        <div class="form-group">
            <form action="#">
                <p>
                    <input name="searchToggle" type="radio" id="search1" value="Factual" checked />
                    <label for="search1">Place DB</label>
                </p>
                <p>
                    <input name="searchToggle" type="radio" id="search2" value="TogetherMap" />
                    <label for="search2">TogetherMap</label>
                </p>
            </form>
        </div>

    {{else}}
        Zoom in to search.
    {{/unless}}

    {{#if searchLoading}}
        Searching...
    {{/if}}

    {{#if searchCompleted}}

        <div style="margin-top: 10px; margin-bottom: 10px;">
            {{#if latestQuery}}
                Results for '{{latestQuery}}'<br>
            {{/if}}

            {{#if 0}}
            {{#if factualSearch}}
                Showing {{includedRows}} rows out of {{totalRows}} within current map ({{loadedRows}} loaded).
            {{else}}
                    Showing {{includedRows}} within current map ({{loadedRows}} loaded).
            {{/if}}
            {{/if}}
        </div>

        <div>

            {{#each searchResults}}

                {{> quick_place }}

            {{/each}}

        </div>
    {{/if}}

</template>


<template name="factual_place">
    {{#with activePlace}}
        <div>
            <h3>
                {{properties.name}}
            </h3>

            {{#if properties.website}}
                <a href="{{properties.website}}" target="_blank">
                    website
                </a>
            {{/if}}
        </div>
    {{/with}}
</template>